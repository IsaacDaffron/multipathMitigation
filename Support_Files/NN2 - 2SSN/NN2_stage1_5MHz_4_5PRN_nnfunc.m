function [Y,Xf,Af] = NN2_stage1_5MHz_4_5PRN_nnfunc(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
% Hidden Neurons: 20
% Output Neurons: 35
% Auto-generated by MATLAB, 16-Mar-2019 12:33:24.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 35xQ matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 35xQ matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.000195099526185389;0.000448245579140258;0.000563845918402309;0.000153316851534495;0.00104997224758334;0.00040365873258867;0.000202935533699328;0.000539739943077852;0.00119412829414718;0.00144313349343397;0.000132900040657637;0.00221220455638507;0.000587157688126659;0.00194055929269008;0.00188880547396134;0.00263055028419751;0.0152264486494145;0.795140260958737;0.00683335207154242;0.00341992820441727;0.00476990751699762;0.00450353220251169;0.000893095279795675;0.00237365448491079;0.000438966702320314;0.00102362104113295;0.00138978666352279;0.000311369524175687;0.00149340271832827;0.000198036197029548;0.000817165075098347;0.000522038667201697;0.00042823570150908;0.000332275569011335;0.000289181941675272];
x1_step1.gain = [12.2672176909938;12.3736828047418;9.2298491417183;11.2768630935038;10.6353252852514;7.68734361550607;8.33740328228756;6.55778641591076;3.626173310508;2.06820325723671;2.01410302138906;2.01512552557211;2.00245018654244;2.00515638182113;2.02920779015164;2.00948903692762;2.03092398855445;9.7627772512058;2.01545252616959;2.01780505371044;2.01101723260119;2.02848594496023;2.00350915579779;2.00571219575551;2.01209269424233;2.05923726872137;2.95901799224711;5.55357854177011;8.69075320370741;8.81948145736407;9.6529014253888;10.546584803538;9.17321879571532;11.6203626483528;11.3216091088416];
x1_step1.ymin = -1;

% Layer 1
b1 = [-4.260728520209345227;10.370350807435841034;-2.9145089464874200935;-10.227019212978227358;-8.598591546661866758;-0.97972191215960291455;-3.5450470387484696033;-3.7059815417082151434;4.0539339739737885182;-4.9168006909771175827;1.7857043893720643268;0.9546430931433247391;-5.3899358240528476571;5.7170569079333466433;7.2709004054058254951;-6.0412916076381293351;3.4768597003783741073;-4.6058774869105816308;4.0866438185152453855;2.7841330529561907348];
IW1_1 = [-0.32026767048179638486 0.10814379781576029249 -1.0618166850785744071 -1.1751494281601266856 0.5266089269592730826 -0.13446591976117205913 -0.22250240695405651414 -0.57277046639584749954 1.8319446335099713874 -5.5515665620818186454 -0.37080019651604795294 4.7280413280122042252 5.8320271330547948097 -2.7124496778200044567 0.11469418213584282873 -0.76137110908332861214 -1.6545203521249129963 -0.49297130908563008278 -0.50742712194607753062 0.81648683362154894638 -0.81246035303224162227 0.33992829642623928477 -1.236422139734659309 -0.3359933458898395342 -0.14280288271711494286 0.33977519283320389842 -1.0038625328616910259 -1.2322786980478077634 -0.35951119814335069647 0.80065015804237371633 -0.55839042232664948262 0.23859272460502489732 -0.86310452825566041923 0.8450128753330956588 -0.27276525493159875513;0.25087729454372870164 -0.15731470076928946722 -0.61087648513781700466 0.26485655706633803863 -0.14962937684083646439 -0.49631380995050566884 0.17202734318822282544 0.79536154005363302044 -0.73549463608857668095 1.3727568293183227688 1.992769210796372592 2.0889632551698675833 3.2481882334962528525 3.6554467321176651318 -3.8535068289062506253 -1.344840436019165919 -0.20016141941334639198 -0.53507743524329121065 -0.18198358453731328099 0.099294580381083380471 -0.081776842407131580814 0.1368498129794206708 -0.27836200778811570622 0.4790553660749403142 1.2006254315557736145 0.60752784647011170982 -0.025754021371526859829 -0.1761480171411859974 -0.053949399462427299889 0.3617741324169168049 -0.38979589184412133385 0.1176845545201304355 -0.46861854332383345856 -0.09960694960219462768 0.33411521966775570291;-0.40397020253396731526 -0.063260764927128232404 -0.24030878754898649108 -0.13846976512544922899 -0.13488779846499618364 -0.031472520043114959876 -0.4033459563932803027 -0.45453548164551504929 -0.026711091055338566369 1.9658736531569382944 3.3402775711084884414 0.65123877371768501554 -0.33731809205578244804 -0.10458152845374217577 -0.1754812695975193626 0.088313098320314128986 0.043241860559034131506 0.26894862322464196946 -0.019472985180607589595 0.12609018376440322973 -0.70035021243641382149 -0.99335565098563627373 -0.55390037058353414068 -0.38777427762994381988 -2.0044540954501348651 0.30069487334704436687 -0.70651829873674398819 -0.23692962341747531019 -0.012373919471311445317 -0.11181820005170944876 -0.16562715996050964007 -0.00037968010283240087588 0.11488759593203262677 -0.1241877963345753566 0.014086428145666157752;-0.20257801027740246491 0.078614959487925017978 0.33873371432734555864 0.0098342773628519331713 -0.34088319933282346108 0.81275184039965742144 -0.071187555898961432654 -0.45364882959043206778 1.3458445213067564694 -0.34263745454579064287 -3.5069769788576796721 -2.6484456876084947474 -4.6779239908681002902 -0.081780393032687040411 2.3409479768176089109 0.44220788059451943131 0.17573504157874852982 -0.065401215387780792243 0.03230633793250633351 -0.28446508207962484249 -0.00042322374751839128559 -0.26515192975776336048 0.59532290576895574574 -0.62563146630126731385 -1.1031494196794826568 -0.31197797918070807599 0.74471161409774622175 0.050958647329963926986 0.11881005056592122693 0.078893261377358858688 0.005312683656253972507 -0.34375784406341008959 -0.15764073167209663451 0.011782298531588072249 -0.075514085138913569772;-0.089238503887939468751 0.16766678353285049963 0.32552707441826894685 -0.60182336877215925064 -0.089247470045234714164 0.18297934843124938342 0.17692694203792569407 -0.44343001149268640448 0.16763874099889702896 0.39659008945586954331 -2.5863845528741737922 -1.2432081982962928102 -3.0471771911030209878 0.44425609468860605134 -4.3128320725887121512 4.2082513554659408683 1.6867269309398718047 0.16377745735191684417 -0.30649840872504480194 0.16309398007705355749 -0.041774569996508859049 0.2192675279201992955 -0.34041142069951890736 0.095697700197068635841 -0.36130731615034333837 -1.2312523355027016336 0.09862067448897982036 0.31217832209631118934 0.21643787400701716694 0.071181551212406254936 0.14852597318233098922 0.20270471782502791358 -0.015724270294937968406 -0.14420516048006473686 0.063661546314700334648;0.17817682669167153597 0.097713866129395171578 -0.093902353256810427995 -0.33141528177624496321 -0.15310770630620473831 -0.23516663645100363556 -0.24466912237153701226 2.4770688445231581198 0.57949819545762892847 -3.6205021621759860828 -4.539244218128973607 -1.6142855132867339751 -6.4987104773707082828 1.4182542474561656842 -0.43640447162374562673 0.55372583386142126827 0.12306774440222650879 0.092432459579266601502 -0.15376084196696485074 0.83657959145961380276 -0.36394984651552386712 -0.46990664774813672988 2.6033687270360066357 0.62877525138632639479 2.2872455538498246419 1.3371139370441160743 -0.17420516188777521172 1.1761224861079637716 0.16011739331440405509 0.65272688835901093718 0.51967810952830217897 -0.012619427378140885693 0.013522860408216329925 0.33800783950459117877 0.20311442171068938567;-0.036107277217329439289 -0.31273225016048339375 -0.14211372346459341665 -0.1135495657575545797 -0.61910491341830331535 0.33397664785555697398 -0.39592976227680259926 -0.77545576012297723345 0.76382550246208213984 3.4380407922460438641 -0.14574236229077791593 -0.35964809786413187709 0.063929185364001855918 -0.021585033881173207315 -0.30440275374174957657 0.13797689842861443621 -0.037522136626630127332 -0.062338843942604610371 -0.14013216487887406037 -0.0062243512673509499011 -0.97979311783741140918 -0.69164779982417379234 -0.16775868708968322274 -0.88156379106510118771 -1.9727258122593669398 0.43718788381604245519 -0.49890059383545498628 0.04054109745193602149 0.19891484888061658487 -0.091557283524695692867 -0.10114902509534715036 0.09125573147722000622 -0.12540381184825299954 -0.12217087292997264036 -0.11292330010610399094;0.20045542213470149417 0.13758929105483863609 0.37188419868381522582 0.073924292363985191767 0.012278396602238478286 0.086863773435458063732 0.48142510829307921805 0.34234190437557926456 -0.2831584153778197166 0.16702842600464684608 -1.9268008224086681235 -1.6674559809310838254 -3.4863843105943432832 -0.77624316838230156268 -0.04180829903720439944 -0.98524598627071990897 -0.79308375563063449043 0.097890311710751201635 0.025363441995514809935 0.20543261055542177962 -0.14707516617153285066 0.47757093714824627728 -0.03859740812619193856 0.15452849257222767143 0.28249994261240674032 0.27631851269590301801 0.704864667772232667 0.3298736859107942454 -0.095632074728794216889 0.037280546608534526065 0.047417477310673236679 0.049744100845169877956 -0.062966028641393431697 0.09010341445253246262 0.18007995702456200404;-0.070987643986159032483 -0.62648314072649258222 -0.18304897490576821362 -0.20112171021222338685 -0.23741306565419939556 -0.090847776772592106487 -0.32363066314394900447 -1.1382480527658707103 -0.28200668634294190351 1.7180907552368647195 3.2987381143110945381 1.855658568669132702 3.7471675856705224383 3.2081037639393947813 1.9172264706185810912 -1.2896703437844776463 -0.76935591520260926401 -0.25079196675583248499 -0.31606732779705776215 -0.18337478127524134419 0.18595979255261663177 -0.026691219313340681929 0.36855413049461854813 -1.7650981283929672028 -1.4754579652935773115 0.84807774503398514199 -0.68528385105677946942 -1.7839844506761326492 0.12448032242784216883 -0.36101401690385159782 -0.17598117832620055467 0.036216513206020435611 -0.070177569470313741484 -0.20350881319755778631 -0.44826183653871026769;-0.050654315933041815789 0.051914889155522642161 -0.011254927853307649874 0.024396194426148005291 0.24844447111314524324 -0.067163325694282210998 -0.085112432980232216595 -0.080452559985025734468 0.57670115013773914914 0.6110912417526355167 -1.6885799205728597716 -0.51692793969200134807 -1.681807259779010133 -1.1640446524382541682 -0.91775215522398634338 -2.1450531458480606162 -2.1464082571608629202 0.21868953988242520459 -0.15025371882310234461 0.16286967635798180187 -0.097208853442255355182 0.22453688334438082208 -0.1015831206247350682 0.067304557192086764128 -0.16922318230510219328 0.22406496203455317229 0.48420435997748517698 0.12754624844547374218 0.25648404968411031568 -0.017809472721208328971 0.18208481332587422852 0.13920825981514325931 0.003859746644265879198 0.15858664922367476935 0.0051223965881251470877;0.51523522102338126238 0.44495148421533520233 -0.026811709456577407368 0.41351151567983784885 -0.40915158452960642688 -0.32390841259600927637 0.25049210322438908438 -0.80207060629667814577 -1.1751273488518032551 -0.3910087634852023597 1.215177642455816498 -0.060330205983452928065 0.55018978306098731412 -0.14689328134640677881 1.4093331609876260657 0.81838750772462987015 -0.38593082239020931601 0.72262243922998947721 -0.66901973633670153152 -0.74123274273907235887 -0.31086217213341110766 0.086184007328186776342 -0.29393202459800732429 -0.24672703821719238482 0.50350261099333848414 -0.31376683091081619681 -0.87560701946752939051 1.0745729263845205104 0.44051293366909943794 -0.33983180628690490277 -0.88342114968503249184 -0.27005823385515886903 -0.12506641856675432267 -0.077124703150472956326 -0.255450464279117051;0.18744289516289103226 0.39937659115463569615 0.068719967523593883385 0.15055139719704596635 0.076486787012278317777 0.29918768053761640724 0.52004913521539464227 0.42229263268953304289 0.43647875406199138082 -1.9281828508771716724 -2.1463553776857731137 -3.772222085586110385 -0.49778751002372240153 0.76373249402512699557 -0.23632448176504017301 -0.20267772939630579465 -0.20589205256501344476 0.21735931248859036158 -0.37438446923728491145 -0.17557597543886355185 0.27219312148582447408 0.28685589555624990687 -0.16555104054893166055 1.0327155908620659908 1.8697550304006647082 0.63760574336251174543 0.2543065439170404396 0.60921419952171718126 -0.11653057317998551101 0.2493615636229246646 -0.060510384747788754922 0.23912057975776793151 0.10928147030833855469 -0.075346892572117796227 0.23711958344399650112;0.022316246820147506852 0.14341919473704853316 0.14010428539727842745 -0.018054665317885486286 0.30075279428040574414 -0.0051611537228468977109 -0.11257008640869861638 0.078234416816202065337 0.19873026376502708756 0.48161144116293019835 -2.1579080900234970386 -1.0994221974975975087 -2.1304618140499038681 -1.7696834716282867639 -0.36807895746638180645 -3.3917092162085547002 -1.918123882942471603 0.15623062175273927377 -0.16232359081056441097 0.3482041935253772369 -0.086222464876189702787 0.39512736865361075544 -0.1158510534892136512 0.13408857432173001967 -0.25272013335001908274 0.33286163211210517687 0.82253281622541984941 0.20182062300315847803 0.19346923933452955802 0.14749070247992795979 0.17022391987111604172 0.2176594466131551997 0.034505549994339280995 0.13292864080944444272 -0.027418309653968849643;0.30988414523699692182 -0.043721093752310320746 -0.31747301704099878394 0.014714018289826701416 0.2341989882683636337 -0.64546175211702816465 0.011004957150222068399 0.92246962652706454566 -1.9120511207014001531 0.35182091565784728848 1.4824300847301967732 1.154091075632432517 3.2276072655258607469 0.81925193028665321826 -2.8916335225998901493 0.066991831093947795672 -0.13802286757194029421 0.34263063901389523291 -0.13391699929459777163 0.35636836962728218881 -0.042399906964906565465 0.086440066537164336746 -0.19753515806669930122 0.62062191130274024786 0.28619661643338650814 -0.17193654240676120581 -0.87099582293371968778 0.26118836156639252399 -0.076863032541675369025 -0.041475472648734586223 0.0099996278210829053074 0.31259344485961432225 0.11828473090465153883 0.085275277018865974776 0.19372739650075909701;-0.53706572302192756574 -0.209733993134851332 -0.56096505011729891343 0.11247774822313831578 0.022115660606205071043 -0.40328215534884070959 -0.81580174910904523777 -0.65903462191609607501 0.18061210735761318302 1.4400670259026675524 2.4142985712608102666 2.4665279663083650163 3.3105333691326377377 2.6776701676874457014 1.9017014757930306157 3.3802598998244071105 -0.46458513300831388859 -0.18758817125675389392 -0.58184722001750077691 0.19035784623954499217 -0.0095400728499622153289 -0.42475108154615526246 0.015754820345838551482 0.29553228364007766427 -0.44426093278861422675 -1.7477499730479644224 -1.1371132026756340938 -0.85879173925376173226 0.14060510437124174032 0.13777404894380387845 -0.31285008898039173841 -0.019832602249599456945 0.11045602426944252372 -0.084507155832209107649 0.06853100891915930859;-0.1243812437753286787 -0.85121153414099315349 -0.080621215563844855767 0.25434343639181516972 -0.64622765462407483206 0.78421228930819075753 -1.6720191803544561804 1.3534185850834135056 1.4990990683216909307 -2.9469775148011647659 -2.3007307273710129181 4.5203565218028218808 -1.1981880632516022089 -0.73971223908495020716 0.63212942921296466636 -0.25026943662920742018 0.68901391049959426205 0.21027238850300059014 0.35053154140914688508 -0.32194269093377625435 0.0081945541731879741054 0.25457969448607031815 -0.87755571931060061264 0.27221790219402391964 -2.023100620278226458 0.66184817980939081306 -0.66500840111162329293 0.43940380670855427869 0.56023955030512584408 -0.052053597458647189733 0.33518615273429719359 -0.12742439940049055114 1.0492088575729912048 -0.3569707059896198853 -0.086696101980381745644;0.37607977931509745106 0.22594545504171173467 0.16594322814265252686 0.0032253280084627712447 0.32804912978229328058 -0.14999594926548967533 0.54546733042165662653 0.69335703502494638872 -0.56400970010432371904 -0.89553991443894453983 -2.4266673004651360124 -0.93535291853610746937 0.64097005395054651444 -0.054985624917699177372 0.17174008293220871524 -0.13853607755959579384 0.09127904873409445341 -0.099660353514665234176 0.16340309067728217562 -0.16328119868234344803 1.121322277897855324 0.99823265250952841754 0.20252892135542410745 0.74767729806779692492 1.9354660507507264189 -0.25153152471022982573 0.23228505285136402669 0.24683392848416324528 -0.069685745313213670604 0.094226933767624074245 0.25017625705062151997 -0.098245164020984571129 0.031396198710326804482 0.13772114799107101901 0.048659530687397534177;-0.046575983438898536926 0.038133104996177662194 0.049332590829595623916 -0.0035589143046136175776 0.17568889721375052781 -0.0091791240589551882645 -0.10699324464747191066 0.010613964941700252537 0.33299041473495682997 0.22527076277036364726 -1.345535284751393279 -0.81731512414748552775 -1.3150318966475902371 -1.2241049082348014476 -0.95451301571783331301 -1.6228307866747180288 -0.7530410543913049759 0.050000812242224426662 -0.072754756001903508889 0.17616377569690602756 -0.02952706313183974321 0.17308458635115930857 -0.039891439457908711708 0.068301570475788914161 -0.12734875418000696223 0.15082054870586666939 0.36378424332770203931 0.089627009947254712707 0.15233657127609698256 0.048001056776971834372 0.15553274229179261945 0.11554899356779796404 0.015743767214933101356 0.097087566901631366934 0.016934004905844683014;-0.10705083752729641078 -0.031573948332524089111 0.053170003321368827787 -0.138809812859820636 -0.17555448327015590881 -0.25077164024483811211 -0.18112120164123271526 0.23633200282399677294 -0.37475393827774544642 -0.43444253559241963192 0.45525926653096421282 0.88929027828410567302 0.46244842707524791425 0.39559069036450100754 1.1294273005772148544 0.28196837434737170858 2.6831980549453291474 0.037174459298862851109 -0.48103793296106295285 -0.15415653525240413657 0.18141713272029783011 -0.15378882594289250418 0.1547256802152856825 0.0093165960743496235852 0.16122043975877903277 -0.15073421300160691483 -0.043674580532980351866 -0.11459390130091123838 -0.061319569073571951467 0.10992979278585923719 -0.17133443982802815109 0.03704904484647067453 0.038767436548627048909 -0.14597118364333394602 0.015309020267236305574;-0.0026967320097010839819 0.053460045982352523419 0.28602720729769415264 -0.34438078782730385807 -0.14132308552813543923 0.25427376332263618153 0.027981323369615535013 0.88165537662239312766 -0.98790118710927343759 -2.2782707360182263834 1.7017799485671036841 0.56717179663044337001 -1.4165766509838593201 0.33361633344270513746 0.12320709872020414732 0.23672049533297720436 -0.019608690764053898076 -0.26336111545226109643 0.066936797413080131869 -0.16548397195495209711 0.45501052693105276115 0.24969731098682340642 0.2208287907646658832 0.31204646407055208757 0.28080422263834137198 0.0696307604322457252 0.2403369960872036859 0.31967867561547547162 0.1556757020061710628 -0.1674945958497678633 -0.013570675485258740234 0.1952290858873535484 0.059452314851782941951 -0.1818384803609756073 -0.080169218468027741986];

% Layer 2
b2 = [0.59107599777427688448;0.12958922584054768934;-0.82511479019105093968;1.3516044757421592504;-1.8325158838091439861;0.92608394892003542687;-0.39926549629872881697;-0.37548787987029486057;-0.030361880445000766215;-0.33160978919400724285;-0.50782972651218760696;-0.8196627183479868739;-0.32861927048780475991;-1.1112056928206239803;-1.2457991112476411999;-0.0013416421057087721258;-0.67113960909670455912;-0.19477446667752573717;0.2440191619271454837;-0.85132448558768836211;0.76317805496160351364;-1.8576554557767488429;1.1682708334412925666;-0.36778608879861379721;0.1079635220837802112;0.74041135400343249806;-1.5433744069652592934;0.45751505444239881637;-0.39143849856007473242;-0.0099241265870635159835;-0.18652960312896560424;-0.60967112547808066658;-0.0095896428753413903018;-0.72997108370738761352;-0.082606739188942790442];
LW2_1 = [-0.055529244136578850832 -0.091330454398639723812 0.068084965396041724484 -0.17184498709091480806 -0.10978832582534098217 -0.2885413338314460896 0.714992273024444569 -0.067892989322260427487 -0.040391546390013265133 -0.73290339375647872711 0.10428664667052228721 0.1590267208714916114 -0.58844758871967117742 -0.014109806876704098985 -0.15060936099365015983 0.52905807928114123584 0.2962997306010302645 1.1179272836613927122 -0.62582780697881423837 0.34983044376458805047;0.24603315368366368565 0.13644417612849854549 0.38999345701894716498 0.1952004161071067001 0.18382712640375681312 0.21461443873883828681 -0.67981790245736961609 0.11774138051860406906 0.22752595445765014248 0.41376735788951340966 -0.23003887258778615843 0.18314649943218402894 0.53634310425764131214 -0.14315832998544403276 0.10942400087411631449 -0.59416123625047267964 -0.40817466302116811594 -0.87656582389506287889 0.24599510592360487871 -0.70760966096233335332;-0.32089893981802541933 -0.088058879994137792546 -0.15200728512677352811 0.20954253157286553688 -0.29238570343595049472 -0.034226479144267497878 0.55947302585144631504 -0.1386365533434928965 -0.025485559538895734971 -0.79860415839543263949 0.24081721316961612889 -0.64356253002744101543 -0.22757217861637932255 0.67454934600336968753 0.070482384785612417488 0.37820052329757286591 0.58337953543298914916 0.89203257235843669282 -0.4472998416197017657 0.57874406074887341234;0.2812803840224568086 -0.023943596823815378044 0.43120468175377435482 -0.52172865269626544915 0.23318186833575493822 -0.27332061530797668869 -0.15180816856991685704 0.25767703793901342024 0.032134214574244354679 0.53953580366308528937 -0.26117112434336114957 0.72723048833711867456 -0.22132568262480159516 -0.84222811383600770796 0.053021485995007680558 -0.067832488377031166515 -0.36326742366224729075 -0.36644894234295960489 -0.040390012610076034272 -0.69199704421243879437;-0.20901279215235965547 0.17984796607597450246 0.17090625107344939448 1.1300692134233580877 -0.21060630164558130639 0.2796564044979389374 0.061094385710720608418 -0.11944370636082937698 0.10378276312560623384 -0.29298067663549653972 0.18757619780190648573 -0.78741062455170340861 0.1188744933529721215 1.2338785928762283639 0.1273489854718089509 -0.41394255026233972572 0.54555466028019716784 0.25470205760087294422 0.28551918917492496997 0.46963984622186488727;0.15342086185657219377 -0.1903629757631072339 0.21228078277435133425 -0.74807273993958989244 -0.053224080284889299652 -0.2998311398413950335 0.62207121667858311653 0.07260839430406917927 -0.060827651127221167571 -0.078912239733829644961 0.0052397628470150399427 0.35761048437817655188 -0.4582012921690993279 -0.69119084527742102875 -0.080144748408788213379 0.42841250742816938679 0.11557423221987209172 0.35339487856897872087 -0.48914502059593928385 0.20550451633970973075;0.14539588466624320251 0.18968882756050214899 0.45577667659826454072 0.72479530092363742 0.16149323363839621082 0.25208003322799310553 -0.56950869334848941428 0.038182804191818887907 0.16853899247048120813 0.20069781473103889824 -0.10922874905328726347 -0.19179183738002777981 0.36795586544414821129 0.46558243168324719985 0.18689291139241984152 -0.72562629738416895009 -0.025716974154472219821 -0.4476871573125752457 0.20424911788110758359 -0.49966203443019813202;-0.16158006241686079241 -0.054523770239210914146 0.23753324131525407892 -0.067033539135642958295 -0.16320586751935337033 -0.12002170637863479596 0.75381504692542866675 -0.059153723531643227773 -0.0087594737728787733927 -0.48403826090223289746 0.17122720918512329691 -0.20792891773563410007 -0.2212764384000950324 0.17786018192363239887 -0.010824834460224823721 0.31999580364206797745 0.58987014880175125953 0.62023676560118734535 -0.23689084064979262778 0.35545183949820602365;0.10724217626535559322 0.019423530908903641201 0.42736300001028992845 -0.086722508872868475649 0.085075912150892801789 0.0032783447770042412062 -0.16709859656018527518 0.088277709455537006766 0.051818596967496875771 0.18178886443651567917 -0.11628831117718051169 0.23472584577091523683 0.055012781248350260677 -0.21649163389539310964 0.060314781546175123828 -0.15402418782924812146 -0.093609371882155706368 -0.21696874268128782393 0.030270831908721606424 -0.47485628951495406636;-0.08506351221643726479 0.032295280930469648373 0.75152752922556653736 0.12365538133545535271 -0.063916610292776940283 0.028902866810142629345 0.73369716373705629042 0.0025598356239884116105 -0.0037199529842141566827 -0.08032246627348224588 0.022918308064055384343 -0.22937694384417026128 -0.021106430118867255258 0.14193452284059077106 0.054641451670831980847 -0.072233715394618008832 0.83581074662569165845 0.10438601476200723428 0.041372117851329652527 0.012796627869832542454;0.012933562216086897517 -0.028283901182201240387 1.057955696406951418 -0.12840362074978886597 0.014891188599691617192 -0.19611294225126379986 -0.050444330227231638786 0.030330163586067191567 -0.0038537670369428482162 0.04047738603849054817 0.00095687005793876258458 0.042521144739093831577 -0.091877992951979486902 -0.17558590018401970534 -0.019316039775353545382 -0.39893861803929475673 0.231501337415654318 0.013979571636474300012 -0.071002579947667371352 0.29283812819055671239;0.17143748247147017061 0.10359024864488212969 -0.49272243776796409431 0.4220245778880358789 -0.027232328294227031718 0.13269350987340008952 -0.55205643896484024591 0.013644590705466839303 0.084279312630743119517 -0.029490270741725940068 0.027518980335407845772 -0.70732303567558285629 0.048592068392683693268 0.3882428329727268812 0.080528521933893912332 0.13195518280545068257 -0.46437754166667399858 0.0093633610236466269239 0.054232421402421092382 0.23682925877599039777;0.15196801485392719133 -0.079316640557179754478 -0.8163359411281485567 0.031271378675968394822 -0.072946464424508000723 -0.62550211979185488254 0.30189204278931963676 -0.024177403348421423745 0.072446455480873708788 -0.16802459250592410855 0.069311490712631484978 0.019795186745471763518 -0.14416198328262891382 0.24759998770000410384 0.0061709125873662768955 0.3012751252911973765 0.062241829314000331197 0.25012711197664494467 -0.18659209433665863154 -0.01642922277494965333;-0.09658235659214958746 0.21870319823156011974 -0.26069855462268670676 1.3688076620913045556 0.042980479499973030244 0.027877302201508961932 -0.35483859217464824853 -0.011424363698839257175 0.76497310821253750035 0.14072119928871451577 -0.063334367565347313156 0.76095525041922851273 0.11996800358166061218 1.4760478280129165629 0.20487432143556913444 -0.046287730933008364165 -0.35353090152282068415 -0.19478240696381002306 0.065421018522770046921 -0.26577630675240848657;-0.16291973987118443801 -0.32793668331809711081 -0.30432223314502371281 -0.205829283602047719 -0.37185555923256841115 0.60104659124923698332 -0.034863185801802344665 0.12299424101508683871 0.32793155933043899308 -0.37088958675420219402 0.16951989742137663075 -0.15887109462659537717 -0.2376977466167887465 -0.028417671968100507995 0.38974308372577209925 0.097562284717068833984 -0.04403459274153859182 0.5211442393390062211 0.02018390572463671373 0.076033089966611011601;0.039061565532713164728 -0.37938444931216874778 -0.11772821542585509835 -1.5755589326562000618 0.29227283084451000095 -0.15924442996547086282 -0.010256699235935251568 0.24633817319368611631 -0.56005726876213934862 0.33651539707928584955 -0.060577512396294816432 0.22239823629423988161 -0.23148344906272469435 -1.4645051927412298109 0.57596968488043309709 0.031871916402330287277 -0.1965444072688513899 -0.17976761963887205598 -0.030665093573069901467 -0.033266507800257458238;0.0066812773017062331363 0.36277718146856119397 0.091736222995180471962 0.16800823888349344926 0.27691942501737926152 0.207440615895352648 -0.020977063243067764486 -0.10081127645412268912 -0.3460525193179513348 -1.1460358413855464832 0.45442434222033012414 -0.089832728347210802355 -0.71754438443653667523 -0.12205787763321974959 -0.40567768885121474609 -0.067687711858388330266 0.15703643271075765075 1.6418105002609866272 0.073402873472691004819 0.026489032294484769064;-0.018909160957745269754 0.044614449106981333981 -0.1322584411774659352 -0.22738269945410941042 -0.26682418278418956747 -0.027174878681852164541 0.038672853945882698645 -0.23345065018979216376 -0.2998961781934006976 0.079094777224897924728 -0.067118271291752601426 0.055052756739202006464 0.263538398405532448 -0.30935768577079958419 -0.70586599730567645139 0.083885040346018457935 -0.10542864003955322583 -0.2628401741464770347 0.071086310759878326704 0.041517080195763299277;0.040928095447226801873 0.068430523167147982999 -0.10619392634551447219 0.045801005515616381725 0.11351177071418394604 0.055344382952761096706 -0.036471042648781724915 -0.034067493915722064923 -0.021265744199703180695 1.0313568567463482495 -0.411914420486680255 0.030508651228765774899 0.73593341339289264358 -0.074009590755109919136 -0.073383999213251199789 -0.053264547256835811928 -0.15737876691657112782 -1.5827691977469255935 -0.28640789696102392226 -0.058425096967031242556;-0.15551905883242259088 0.0161590345514299287 -0.066103035302343376989 0.10546157930205558861 -0.39692011113846814574 0.05033493637236629431 0.084405718555460945707 -0.22696082852792198725 -0.27091255658459922895 -1.6508322109142223866 0.485110664816935655 -0.1482522288647241393 -0.32389709734060773139 0.29323888709455608881 -0.27995455225172155567 0.15642181823112222272 0.19390026989879738384 1.7851011363297064616 -0.6584692752147052186 0.12568908166529504933;0.096083567891607699063 -0.005626532312037597211 -0.098016426836515818666 -0.56765174833354725692 0.29651832690064650055 -0.090505390394898257989 -0.10376449812150571883 0.14731897640226354618 0.017142350519727095337 1.4339211709481483048 -0.50512835141694478747 0.25781672348864625999 0.35687028322501801458 -0.78000264384426398756 -0.070365672504375240126 -0.030955485818585520147 -0.31495521133208320697 -1.6979841070690873117 -0.13084703994042345965 -0.11095812698380910777;-0.096975425723087788077 0.1733347321875349234 -0.16278437616455873616 0.89971905276325125911 -0.35239988938266664231 0.31902411853974360634 -0.0095503038910008750811 -0.19746723337204469262 -0.24534534726804863025 -0.46990460305218600956 0.18468267754902975564 -0.40219594827811894211 0.33033684278126235201 0.98666824785993145763 -0.019294051808821106875 -0.06671051419609928812 0.18716272351531471063 0.34689838630951580489 0.88274796956379097956 0.11579872063807783444;0.031677524411325666542 -0.15841298835420863922 -0.050552237436735890375 -0.9889877098347814588 0.025310551742476782022 -0.27810859644214780406 0.15884638605536530176 -0.010348671267140722996 -0.13408483726643707912 0.023565808431803683676 0.036094035170487169528 0.33733227440010654652 -0.80139425732433955396 -0.98043541209384699187 -0.43464903057690518207 0.20543209294334180415 -0.062231269611571375655 0.4094178074607456308 -1.2850355434884757067 0.12640432886336744334;0.12639856849905528602 0.23598023183922689494 0.032605959087665316309 0.59007984736667595804 0.16598759917903643801 0.40877574703117108834 -0.20572209157213258712 -0.051231142792588557633 0.088984883906127715258 0.66749899591314554304 -0.2398081399690034643 -0.088164505299747758515 0.95758683751501949555 0.34663011385214653748 0.043801793612901776531 -0.30959012755353293445 -0.089825632143822733977 -1.3300900438482534671 0.5535021325353006727 -0.18601845716420073451;-0.17009101768820472644 -0.20301568497826733006 -0.18648169153044499846 -0.44871377423066671764 -0.35842707849281507659 -0.10598298849552294232 0.18161982906030268992 -0.23948478745296511438 -0.26702538113485863036 -1.6345755562197552546 0.3738186964304891502 -0.099595526848719001523 -0.65892486921194526328 -0.10616341782638813451 -0.28152614074323428772 0.36589626752439691204 0.17829172787563446478 1.9340889188394601028 -1.341884921104134154 0.26411453319338212831;0.20067468085310552484 0.12435077482906350954 -0.056141618154878829283 -0.3468377271449827326 0.42534077798277358795 0.0056895760817813577359 -0.043588506200119059297 0.19011524345624333798 0.062426740682159101437 1.2785160770129613272 -0.45602469556877217594 0.2968673008037260308 0.57164794475982017019 -0.67246243468531774479 0.098876680753989837358 -0.11839820428572558897 -0.28494292356865180693 -1.7081443059218726077 0.18541938514959624418 -0.21158720874912845256;-0.20443596793480481311 0.029535218510652608975 -0.015864266076472559319 0.60269477421119466154 -0.32451128054705885573 0.1778358928909682668 -0.079743046542184059522 -0.20911385796049250518 -0.12562887230038904951 -0.84214324172271159963 0.24219850592125818922 -0.28008157205320605154 -0.096996439240904647194 0.81018587150004395259 -0.1715490882589589261 -0.049485402817042216383 0.17015074814465991349 0.97375767239045996071 0.42144399201688670376 0.0088618961583027053286;0.063556781451343843936 -0.064128131842029895138 -0.20494903616793280765 -0.64296547732591924351 0.083631948029741137729 -0.19664511571447818028 -0.03183479418801828803 0.1518855624013541461 -0.10126227572847271152 0.86241986270572101869 -0.16502503102148782799 0.18784227070381179225 -0.35505017297547492028 -0.80096354720472939803 -0.12336742891048982362 0.12030906416749487242 -0.27347101808196233597 -0.62598840385356169236 -0.43434622799564109874 0.23991453676525950622;0.16056485216067239996 0.17334830000429901631 -0.040457685501947039663 0.54398420757859966557 -0.021444830015764342751 0.29739762873378183805 0.30857655915265730373 -0.059055782145534821415 -0.092740057452693466788 0.078877986967135826912 -0.067913053245034438188 -0.11225798824526524167 0.5206227628499462412 0.48589264489869182784 0.11487778316637146936 -0.075313403641358037111 0.16426665505463894368 -0.43634434898964236105 0.50080400964102378403 -0.22640357930452501001;-0.15388355780903237302 -0.030926222357747171904 0.45995653940804276383 -0.2215051261856584297 -0.16506871302332562501 -0.19753971173441114972 0.34316692310930319021 -0.1198708512102217294 -0.10946326230436138893 -0.84380126003146715963 0.24026969966442857096 0.11116192671024506533 -0.58183364605075227338 -0.095733585816288865877 -0.23204204155449706382 -0.10930304816055162742 0.40003508359485584478 1.1311365853322090658 -1.0607925098217159121 0.3461150362263801239;0.094729058003446456326 0.090070179161925834066 0.065013876514267932016 -0.091843230255859997779 0.17729447931546798989 0.19832792961950981847 -0.49801013526857612623 0.1206500834665995836 0.11542929858309004809 0.65714713833332538684 -0.20531536846617767789 -0.046914310688793821325 0.54943962454149108954 -0.30813478874672067809 0.082892878496333019522 -0.084598246083717743016 -0.44637831583711368166 -1.0915762980650043357 0.22379502103223677945 -0.0058856158566371191698;0.10765100030311103296 -0.097422814917825520387 -0.26550750324166383365 -0.1048438335902830143 -0.15901959249609240454 -0.062290743254606532886 0.31860613411046612153 -0.051424146293224518023 -0.18514386397139212526 -0.70019927726896147302 0.22125449821838644171 -0.40535771077345983393 -0.15312247185777491665 0.078288779769608615733 -0.034469645530545718615 0.11991373768955089496 0.2983653419590982514 0.74809021430201194658 -0.18733523406116880938 0.2080195304877500706;0.083248364438290936573 0.094677913130237795203 0.010962798905595242185 -0.16486713700076174871 0.15620222980274142688 -0.2777331592591202325 0.036671680348999646792 0.030275982563309520451 0.13581441853160700073 0.35158789499508547038 -0.090770480007795778521 0.584222159768024496 -0.21716128162979164706 -0.027462721487848729129 -0.079444426509039892115 0.021558977656579110527 -0.16464660574573453111 -0.20942571325805833804 -0.27701070971862812309 -0.086998743175859719057;-0.1214353902254181744 0.058595460455923946419 -0.14706300119362430978 0.54380853634046055767 -0.14431877438360279919 0.42915106061107011204 -0.18723123574797481683 0.023507950829561155559 0.40213833819577488038 -0.1205670475936444358 0.00024067864962638851889 -0.24008220120275303167 0.095990605585988361681 0.4557620874164812208 -0.081247682003605992129 -0.1460590235267716086 -0.12501548720540819892 0.089553443532554136142 0.25707547211797571185 -0.19335365999313469665;0.0050934361350202638635 -0.39602326194525039327 -0.16799442514024487405 -0.47964818803604342135 -0.13499651214850208469 -0.17200366989838208887 0.10073003074324979322 0.08304699573392229639 -0.21253120154405510944 0.086297964662678541825 -0.019423207870274350473 0.089807826160436365903 -0.10941540321931753077 -0.18568261061399299328 0.2443172757751947699 0.20395285649034788911 -0.10810117888544784615 -0.10338378772399067773 -0.51335369429054400481 0.2772375593649145098];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [28.6390691748951;28.5946777781051;24.6403509404738;21.5319529144931;20.3824236581736;15.5067009846169;15.1409522331548;7.83669173128449;3.75163536900745;2.00204593731646;2.00145827401511;2.00172869671908;2.00201624123439;2.00179080255521;2.00115163036882;2.00212957207868;2.00300189646499;2.00245617381378;2.00177178454781;7.0984375745914;7.72959655725936;14.7550231752745;15.1071089747717;19.1747357922005;21.9530468801001;21.4225010193641;23.8679674976726;23.9771311149231;28.8218519032715;26.8778895559353;26.691384506383;25.8750371637105;25.5794049750534;27.8844756960422;28.9755732358042];
y1_step1.xoffset = [0.000100646016722838;0.000318713695021143;8.80340398223012e-05;0.00027904361664689;0.000297079886654067;0.000241717559481628;0.000638536263495262;8.60915120643601e-05;0.0011994559908685;0.000527960428577097;0.000361295868075094;0.000513684587699884;0.000665254174888296;0.00053730695891492;0.00021763004246472;0.000713591984176227;0.00113465048582059;0.00088700944828131;0.000515945427331775;0.000358305246804918;0.00101077693306907;0.000817056231244484;0.00033124691298497;0.000657102055834322;0.000498776802342555;0.000187404761767131;0.0008075036828831;0.000122799859928128;0.000199791367342296;0.000143360467606493;0.000116332209459527;0.00058057890102982;0.000117352296001764;0.000414721242352308;9.2983174533392e-05];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
